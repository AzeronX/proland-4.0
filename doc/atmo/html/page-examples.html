<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>proland: Examples</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="page-examples">Examples </a></h1> 
<div class="mainpage">
<h2><a class="anchor" id="sec-atmo">
Atmo example</a></h2>
 
<img src="atmo.png"><br/>
 <!--  <div align="center">
<img src="atmo.png" alt="atmo.png"/>
</div>
  --> <p>This example is based on the paper "Precomputed Atmospheric Scattering", Eric Bruneton and Fabrice Neyret, EGSR 2008, and on the associated source code. To use it, launch the application twice: the first launch will precompute the atmospheric textures (using the code and shaders in the "precompute" sub directory), and the second one will use them to render the atmosphere.</p>
<p>The "HelloWorld.cpp" is taken from the "Edit1" example from the edit plugin. The scene graph organization is also quite simple and should now be quite self explanatory. It makes use, in particular, of a globalsShader to hold the shared global variables, here the world camera position, the world Sun direction, and a camera exposure for tone mapping (see the "Terrain5" example).</p>
<p>This exposure can be changed with the tweak bar, thanks to the following resources:</p>
 <div class="fragment"><pre class="fragment">    &lt;tweakBar name=<span class="stringliteral">&quot;settings&quot;</span> label=<span class="stringliteral">&quot;Options&quot;</span>&gt;
        &lt;<span class="keywordtype">float</span> label=<span class="stringliteral">&quot;Exposure&quot;</span> keyincr=<span class="stringliteral">&quot;+&quot;</span> keydecr=<span class="stringliteral">&quot;-&quot;</span>
            group=<span class="stringliteral">&quot;Rendering&quot;</span> help=<span class="stringliteral">&quot;Choose exposure factor for tone mapping&quot;</span>
            min=<span class="stringliteral">&quot;0.01&quot;</span> max=<span class="stringliteral">&quot;10.0&quot;</span> step=<span class="stringliteral">&quot;0.01&quot;</span> path=<span class="stringliteral">&quot;sky/material/hdrExposure&quot;</span>/&gt;
    &lt;/tweakBar&gt;

    &lt;tweakBarManager name=<span class="stringliteral">&quot;tweakBar&quot;</span> next=<span class="stringliteral">&quot;viewHandler&quot;</span>&gt;
        &lt;editor <span class="keywordtype">id</span>=<span class="stringliteral">&quot;resources&quot;</span> bar=<span class="stringliteral">&quot;settings&quot;</span> permanent=<span class="stringliteral">&quot;true&quot;</span> exclusive=<span class="stringliteral">&quot;false&quot;</span>/&gt;
        &lt;editor <span class="keywordtype">id</span>=<span class="stringliteral">&quot;scene&quot;</span> bar=<span class="stringliteral">&quot;editScene&quot;</span> exclusive=<span class="stringliteral">&quot;false&quot;</span>/&gt;
    &lt;/tweakBarManager&gt;
</pre></div></p>
<p>Here the "settings" tweak bar is configured to edit the float uniform named "hdrExposure" in the "material" module of the "sky" scene node, i.e., in the "skyShader" shader. It also defines min and max values for this uniform, shortcut keys to increment and decrement it by "step" values, and also associate to it a tweak bar group and a help message. You can of course add many more controls like this in your applications.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>the sky shader can work both with flat and spherical terrains. For flat terrains, as in this example, you must set the "origin" uniform of this shader to (0,0,radius), where radius is the planet radius used when precomputing the atmospheric textures (here 6360000):</dd></dl>
 <div class="fragment"><pre class="fragment">    &lt;module name=<span class="stringliteral">&quot;skyShader&quot;</span> version=<span class="stringliteral">&quot;330&quot;</span> source=<span class="stringliteral">&quot;skyShader.glsl&quot;</span>&gt;
        &lt;uniformSampler name=<span class="stringliteral">&quot;glareSampler&quot;</span> texture=<span class="stringliteral">&quot;sunglare&quot;</span>/&gt;
        &lt;uniform3f name=<span class="stringliteral">&quot;origin&quot;</span> x=<span class="stringliteral">&quot;0.0&quot;</span> y=<span class="stringliteral">&quot;0.0&quot;</span> z=<span class="stringliteral">&quot;6360000.0&quot;</span>/&gt;
    &lt;/module&gt;
</pre></div></p>
<p>For spherical terrains you must set the origin to (0,0,0). </p>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Sat May 12 09:42:18 2012 for proland by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
