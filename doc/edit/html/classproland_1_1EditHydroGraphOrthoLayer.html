<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>proland: proland::EditHydroGraphOrthoLayer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>proland</b>::<a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html">EditHydroGraphOrthoLayer</a>
  </div>
</div>
<div class="contents">
<h1>proland::EditHydroGraphOrthoLayer Class Reference<br/>
<small>
[<a class="el" href="group__edit.html">edit</a>]</small>
</h1><!-- doxytag: class="proland::EditHydroGraphOrthoLayer" --><!-- doxytag: inherits="proland::EditGraphOrthoLayer" -->
<p>An OrthoGPUProducer layer to edit Graph objects.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;EditHydroGraphOrthoLayer.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for proland::EditHydroGraphOrthoLayer:</div>
<div class="dynsection">
 <div class="center">
  <img src="classproland_1_1EditHydroGraphOrthoLayer.gif" usemap="#proland::EditHydroGraphOrthoLayer_map" alt=""/>
  <map id="proland::EditHydroGraphOrthoLayer_map" name="proland::EditHydroGraphOrthoLayer_map">
<area href="classproland_1_1EditGraphOrthoLayer.html" alt="proland::EditGraphOrthoLayer" shape="rect" coords="0,0,217,24"/>
</map>
 </div>
</div>

<p><a href="classproland_1_1EditHydroGraphOrthoLayer-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1EditHydroGraphOrthoLayer_1_1EditHydroGraphHandler.html">EditHydroGraphHandler</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The EventHandler associated to <a class="el" href="classproland_1_1EditGraphOrthoLayer.html" title="An OrthoGPUProducer layer to edit Graph objects.">EditGraphOrthoLayer</a>.  <a href="classproland_1_1EditHydroGraphOrthoLayer_1_1EditHydroGraphHandler.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html#a4298d81eef0354e95a5d39d1c4cc2b04">EditHydroGraphOrthoLayer</a> (const vector&lt; ptr&lt; GraphProducer &gt; &gt; &amp;<a class="el" href="classproland_1_1EditGraphOrthoLayer.html#af8badab6f65ef29177ef5d9936092cbd">graphs</a>, ptr&lt; Program &gt; layerProg, int <a class="el" href="classproland_1_1EditGraphOrthoLayer.html#a81c204e2409f558fbce99f3214ac7689">displayLevel</a>=0, float <a class="el" href="classproland_1_1EditGraphOrthoLayer.html#ae7d62cc3778aa211531e956b2a210fdd">tolerance</a>=8.0f/192.0f, bool softEdition=true, double softEditionDelay=100000.0, bool deform=false, string terrain=&quot;&quot;, ptr&lt; ResourceManager &gt; manager=NULL)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new <a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html" title="An OrthoGPUProducer layer to edit Graph objects.">EditHydroGraphOrthoLayer</a>.  <a href="#a4298d81eef0354e95a5d39d1c4cc2b04"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html#a3940e6573848559b65dba5bb3e4cb489">~EditHydroGraphOrthoLayer</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deletes this <a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html" title="An OrthoGPUProducer layer to edit Graph objects.">EditHydroGraphOrthoLayer</a>.  <a href="#a3940e6573848559b65dba5bb3e4cb489"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html#ae53a5f1c9b6a440c309421cd52f1e00c">addCurve</a> (double x, double y, float <a class="el" href="classproland_1_1EditGraphOrthoLayer.html#ae7d62cc3778aa211531e956b2a210fdd">tolerance</a>, GraphPtr g, CurvePtr &amp;curve, int &amp;point, Graph::Changes &amp;changes)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a curve from selected point to given coords.  <a href="#ae53a5f1c9b6a440c309421cd52f1e00c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html#a1ad9c00cac71e745f569fadb1265ef8c">addCurve</a> (double x1, double y1, double x2, double y2, float <a class="el" href="classproland_1_1EditGraphOrthoLayer.html#ae7d62cc3778aa211531e956b2a210fdd">tolerance</a>, GraphPtr g, CurvePtr &amp;curve, int &amp;segment, int &amp;point, Graph::Changes &amp;changes)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a Curve between two new nodes.  <a href="#a1ad9c00cac71e745f569fadb1265ef8c"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html#a2186cbbd7fc09d960e1ed2a18711d1d8">EditHydroGraphOrthoLayer</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new <a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html" title="An OrthoGPUProducer layer to edit Graph objects.">EditHydroGraphOrthoLayer</a>.  <a href="#a2186cbbd7fc09d960e1ed2a18711d1d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html#a1db0b4e9929e4023165c8fefd26ebfe8">init</a> (const vector&lt; ptr&lt; GraphProducer &gt; &gt; &amp;<a class="el" href="classproland_1_1EditGraphOrthoLayer.html#af8badab6f65ef29177ef5d9936092cbd">graphs</a>, ptr&lt; Program &gt; layerProg, int <a class="el" href="classproland_1_1EditGraphOrthoLayer.html#a81c204e2409f558fbce99f3214ac7689">displayLevel</a>=0, float <a class="el" href="classproland_1_1EditGraphOrthoLayer.html#ae7d62cc3778aa211531e956b2a210fdd">tolerance</a>=8.0f/192.0f, bool softEdition=true, double softEditionDelay=100000.0, bool deform=false, string terrain=&quot;&quot;, ptr&lt; ResourceManager &gt; manager=NULL)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes <a class="el" href="classproland_1_1EditGraphOrthoLayer.html" title="An OrthoGPUProducer layer to edit Graph objects.">EditGraphOrthoLayer</a> fields.  <a href="#a1db0b4e9929e4023165c8fefd26ebfe8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CurvePtr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html#a878b4ba4e2cfa476742d8265b3fc823a">findRiver</a> (TileCache::Tile *t, double x1, double y1, double x2, double y2, int &amp;orientationC2R, int &amp;orientationR2C)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Iterative method for finding a River axis which is suitable for a given bank segment.  <a href="#a878b4ba4e2cfa476742d8265b3fc823a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CurvePtr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html#a5eab69a2fa7eaab8b2ddfbbe95596c0b">findRiver</a> (GraphPtr p, double x1, double y1, double x2, double y2, int &amp;orientationC2R, int &amp;orientationR2C)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Iterative method for finding a River axis which is suitable for a given bank segment.  <a href="#a5eab69a2fa7eaab8b2ddfbbe95596c0b"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html#aee025d83c7b1007b4362d6bf66c215c1">addingRiver</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">AddingRiver state.  <a href="#aee025d83c7b1007b4362d6bf66c215c1"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>An OrthoGPUProducer layer to edit Graph objects. </p>
<p>See <a class="el" href="classproland_1_1EditGraphOrthoLayer.html" title="An OrthoGPUProducer layer to edit Graph objects.">EditGraphOrthoLayer</a>. This subclass handles HydroGraph, and allows to dynamically create rivers and quickly designing their banks.</p>
<dl class="author"><dt><b>Authors:</b></dt><dd>Antoine Begault, Eric Bruneton, Guillaume Piolat </dd></dl>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4298d81eef0354e95a5d39d1c4cc2b04"></a><!-- doxytag: member="proland::EditHydroGraphOrthoLayer::EditHydroGraphOrthoLayer" ref="a4298d81eef0354e95a5d39d1c4cc2b04" args="(const vector&lt; ptr&lt; GraphProducer &gt; &gt; &amp;graphs, ptr&lt; Program &gt; layerProg, int displayLevel=0, float tolerance=8.0f/192.0f, bool softEdition=true, double softEditionDelay=100000.0, bool deform=false, string terrain=&quot;&quot;, ptr&lt; ResourceManager &gt; manager=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proland::EditHydroGraphOrthoLayer::EditHydroGraphOrthoLayer </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; ptr&lt; GraphProducer &gt; &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>graphs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; Program &gt;&nbsp;</td>
          <td class="paramname"> <em>layerProg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>displayLevel</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>tolerance</em> = <code>8.0f&nbsp;/&nbsp;192.0f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>softEdition</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>softEditionDelay</em> = <code>100000.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>deform</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>terrain</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; ResourceManager &gt;&nbsp;</td>
          <td class="paramname"> <em>manager</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new <a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html" title="An OrthoGPUProducer layer to edit Graph objects.">EditHydroGraphOrthoLayer</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>graphs</em>&nbsp;</td><td>a vector of GraphProducers that will be handled by this layer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>layerProgram</em>&nbsp;</td><td>the GLSL Program to be used to draw the graphs in this Layer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>displayLevel</em>&nbsp;</td><td>the tile level to start display. Tiles whole level is less than displayLevel are not drawn by this Layer, and graphProducer is not asked to produce the corresponding graph tiles. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tolerance</em>&nbsp;</td><td>tolerance parameter for screen selection of points. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>softEdition</em>&nbsp;</td><td>true to only call the <a class="el" href="classproland_1_1EditGraphOrthoLayer.html#a4038bed9623bbc68de787aade005197e" title="Invalidates required tiles.">update()</a> method once the user release the mouse when editing. Usefull for avoiding costly updates when editing. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>softEditionDelay</em>&nbsp;</td><td>minimum amount of time between two updates if softEdition is false. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>deform</em>&nbsp;</td><td>whether we apply a spherical deformation on the layer or not. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>terrain</em>&nbsp;</td><td>name of the terrain on which this <a class="el" href="classproland_1_1EditGraphOrthoLayer.html" title="An OrthoGPUProducer layer to edit Graph objects.">EditGraphOrthoLayer</a> is located. only required if the terrainNode has been deformed or moved. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>manager</em>&nbsp;</td><td>the ResourceManager used to create the scene. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3940e6573848559b65dba5bb3e4cb489"></a><!-- doxytag: member="proland::EditHydroGraphOrthoLayer::~EditHydroGraphOrthoLayer" ref="a3940e6573848559b65dba5bb3e4cb489" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual proland::EditHydroGraphOrthoLayer::~EditHydroGraphOrthoLayer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes this <a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html" title="An OrthoGPUProducer layer to edit Graph objects.">EditHydroGraphOrthoLayer</a>. </p>

</div>
</div>
<a class="anchor" id="a2186cbbd7fc09d960e1ed2a18711d1d8"></a><!-- doxytag: member="proland::EditHydroGraphOrthoLayer::EditHydroGraphOrthoLayer" ref="a2186cbbd7fc09d960e1ed2a18711d1d8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proland::EditHydroGraphOrthoLayer::EditHydroGraphOrthoLayer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new <a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html" title="An OrthoGPUProducer layer to edit Graph objects.">EditHydroGraphOrthoLayer</a>. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a1ad9c00cac71e745f569fadb1265ef8c"></a><!-- doxytag: member="proland::EditHydroGraphOrthoLayer::addCurve" ref="a1ad9c00cac71e745f569fadb1265ef8c" args="(double x1, double y1, double x2, double y2, float tolerance, GraphPtr g, CurvePtr &amp;curve, int &amp;segment, int &amp;point, Graph::Changes &amp;changes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool proland::EditHydroGraphOrthoLayer::addCurve </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>y2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>tolerance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GraphPtr&nbsp;</td>
          <td class="paramname"> <em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CurvePtr &amp;&nbsp;</td>
          <td class="paramname"> <em>curve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>segment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Graph::Changes &amp;&nbsp;</td>
          <td class="paramname"> <em>changes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a Curve between two new nodes. </p>
<p>Also returns the new selection for interface functions.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x1</em>&nbsp;</td><td>X coord of first node. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y1</em>&nbsp;</td><td>Y coord of first node. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x2</em>&nbsp;</td><td>X coord of second node. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y2</em>&nbsp;</td><td>Y coord of second node. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>g</em>&nbsp;</td><td>the graph to modify. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>curve</em>&nbsp;</td><td>will contain the selected curve, NULL if none. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>point</em>&nbsp;</td><td>will contain the selected point's rank in 'curve', -1 if none. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>changes</em>&nbsp;</td><td>will contain the list of changes that occured in g. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if changes occured. </dd></dl>

<p>Reimplemented from <a class="el" href="classproland_1_1EditGraphOrthoLayer.html#ad0719100ec8854ba0848993ed4e5575c">proland::EditGraphOrthoLayer</a>.</p>

</div>
</div>
<a class="anchor" id="ae53a5f1c9b6a440c309421cd52f1e00c"></a><!-- doxytag: member="proland::EditHydroGraphOrthoLayer::addCurve" ref="ae53a5f1c9b6a440c309421cd52f1e00c" args="(double x, double y, float tolerance, GraphPtr g, CurvePtr &amp;curve, int &amp;point, Graph::Changes &amp;changes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool proland::EditHydroGraphOrthoLayer::addCurve </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>tolerance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GraphPtr&nbsp;</td>
          <td class="paramname"> <em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CurvePtr &amp;&nbsp;</td>
          <td class="paramname"> <em>curve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Graph::Changes &amp;&nbsp;</td>
          <td class="paramname"> <em>changes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a curve from selected point to given coords. </p>
<p>If given coords doesn't corresponds to a given node, it creates it. Also returns the new selection for interface functions.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>X coord of second node. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>Y coord of second node. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tolerance</em>&nbsp;</td><td>tolerance parameter for node searching. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>g</em>&nbsp;</td><td>the graph to modify. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>curve</em>&nbsp;</td><td>will contain the selected curve, NULL if none. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>point</em>&nbsp;</td><td>will contain the selected point's rank in 'curve', -1 if none. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>changes</em>&nbsp;</td><td>will contain the list of changes that occured in g. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if changes occured. </dd></dl>

<p>Reimplemented from <a class="el" href="classproland_1_1EditGraphOrthoLayer.html#af28785a100bb0480f4b12d9e68feb96f">proland::EditGraphOrthoLayer</a>.</p>

</div>
</div>
<a class="anchor" id="a5eab69a2fa7eaab8b2ddfbbe95596c0b"></a><!-- doxytag: member="proland::EditHydroGraphOrthoLayer::findRiver" ref="a5eab69a2fa7eaab8b2ddfbbe95596c0b" args="(GraphPtr p, double x1, double y1, double x2, double y2, int &amp;orientationC2R, int &amp;orientationR2C)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CurvePtr proland::EditHydroGraphOrthoLayer::findRiver </td>
          <td>(</td>
          <td class="paramtype">GraphPtr&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>y2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>orientationC2R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>orientationR2C</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Iterative method for finding a River axis which is suitable for a given bank segment. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>the graph to search into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x1</em>&nbsp;</td><td>x coordinate of the 1st point to search. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y1</em>&nbsp;</td><td>y coordinate of the 1st point to search. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x2</em>&nbsp;</td><td>x coordinate of the 2nd point to search. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y2</em>&nbsp;</td><td>y coordinate of the 2nd point to search. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>orientationC2R</em>&nbsp;</td><td>true if the axis is on the left of the bank. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>orientationC2R</em>&nbsp;</td><td>true if the bank is on the left of the axis. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the river if something was found. </dd></dl>

</div>
</div>
<a class="anchor" id="a878b4ba4e2cfa476742d8265b3fc823a"></a><!-- doxytag: member="proland::EditHydroGraphOrthoLayer::findRiver" ref="a878b4ba4e2cfa476742d8265b3fc823a" args="(TileCache::Tile *t, double x1, double y1, double x2, double y2, int &amp;orientationC2R, int &amp;orientationR2C)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CurvePtr proland::EditHydroGraphOrthoLayer::findRiver </td>
          <td>(</td>
          <td class="paramtype">TileCache::Tile *&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>y2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>orientationC2R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>orientationR2C</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Iterative method for finding a River axis which is suitable for a given bank segment. </p>
<p>This one searches the appropriate graph to search into, and calls <a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html#a878b4ba4e2cfa476742d8265b3fc823a" title="Iterative method for finding a River axis which is suitable for a given bank segment...">findRiver</a>(GraphPtr g,...).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>the tile to search into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x1</em>&nbsp;</td><td>x coordinate of the 1st point to search. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y1</em>&nbsp;</td><td>y coordinate of the 1st point to search. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x2</em>&nbsp;</td><td>x coordinate of the 2nd point to search. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y2</em>&nbsp;</td><td>y coordinate of the 2nd point to search. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>orientationC2R</em>&nbsp;</td><td>true if the axis is on the left of the bank. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>orientationC2R</em>&nbsp;</td><td>true if the bank is on the left of the axis. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the river if something was found. </dd></dl>

</div>
</div>
<a class="anchor" id="a1db0b4e9929e4023165c8fefd26ebfe8"></a><!-- doxytag: member="proland::EditHydroGraphOrthoLayer::init" ref="a1db0b4e9929e4023165c8fefd26ebfe8" args="(const vector&lt; ptr&lt; GraphProducer &gt; &gt; &amp;graphs, ptr&lt; Program &gt; layerProg, int displayLevel=0, float tolerance=8.0f/192.0f, bool softEdition=true, double softEditionDelay=100000.0, bool deform=false, string terrain=&quot;&quot;, ptr&lt; ResourceManager &gt; manager=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void proland::EditHydroGraphOrthoLayer::init </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; ptr&lt; GraphProducer &gt; &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>graphs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; Program &gt;&nbsp;</td>
          <td class="paramname"> <em>layerProg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>displayLevel</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>tolerance</em> = <code>8.0f/192.0f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>softEdition</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>softEditionDelay</em> = <code>100000.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>deform</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>terrain</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; ResourceManager &gt;&nbsp;</td>
          <td class="paramname"> <em>manager</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes <a class="el" href="classproland_1_1EditGraphOrthoLayer.html" title="An OrthoGPUProducer layer to edit Graph objects.">EditGraphOrthoLayer</a> fields. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>graphs</em>&nbsp;</td><td>a vector of GraphProducers that will be handled by this layer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>layerProgram</em>&nbsp;</td><td>the GLSL Program to be used to draw the graphs in this Layer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>displayLevel</em>&nbsp;</td><td>the tile level to start display. Tiles whole level is less than displayLevel are not drawn by this Layer, and graphProducer is not asked to produce the corresponding graph tiles. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tolerance</em>&nbsp;</td><td>tolerance parameter for screen selection of points. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>softEdition</em>&nbsp;</td><td>true to only call the <a class="el" href="classproland_1_1EditGraphOrthoLayer.html#a4038bed9623bbc68de787aade005197e" title="Invalidates required tiles.">update()</a> method once the user release the mouse when editing. Usefull for avoiding costly updates when editing. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>softEditionDelay</em>&nbsp;</td><td>minimum amount of time between two updates if softEdition is false. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>deform</em>&nbsp;</td><td>whether we apply a spherical deformation on the layer or not. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>terrain</em>&nbsp;</td><td>name of the terrain on which this <a class="el" href="classproland_1_1EditGraphOrthoLayer.html" title="An OrthoGPUProducer layer to edit Graph objects.">EditGraphOrthoLayer</a> is located. only required if the terrainNode has been deformed or moved. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>manager</em>&nbsp;</td><td>the ResourceManager used to create the scene. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classproland_1_1EditGraphOrthoLayer.html#a86b7bad903252472bd6dd6f562777272">proland::EditGraphOrthoLayer</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aee025d83c7b1007b4362d6bf66c215c1"></a><!-- doxytag: member="proland::EditHydroGraphOrthoLayer::addingRiver" ref="aee025d83c7b1007b4362d6bf66c215c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classproland_1_1EditHydroGraphOrthoLayer.html#aee025d83c7b1007b4362d6bf66c215c1">proland::EditHydroGraphOrthoLayer::addingRiver</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>AddingRiver state. </p>
<p>True if we are adding a river axis. This options allows to manually add a river axis to a given Bank. </p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Sat May 12 09:43:14 2012 for proland by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
