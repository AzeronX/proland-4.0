<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>proland: proland::MousePositionHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>proland</b>::<a class="el" href="classproland_1_1MousePositionHandler.html">MousePositionHandler</a>
  </div>
</div>
<div class="contents">
<h1>proland::MousePositionHandler Class Reference<br/>
<small>
[<a class="el" href="group__proland__ui.html">ui</a>]</small>
</h1><!-- doxytag: class="proland::MousePositionHandler" -->
<p>An EventHandler that can determine the position of the mouse in world space.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;MousePositionHandler.h&gt;</code></p>

<p><a href="classproland_1_1MousePositionHandler-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1MousePositionHandler.html#ae81648a8c6680719352c96de698fb843">MousePositionHandler</a> (map&lt; ptr&lt; SceneNode &gt;, ptr&lt; <a class="el" href="classproland_1_1TerrainNode.html">TerrainNode</a> &gt; &gt; <a class="el" href="classproland_1_1MousePositionHandler.html#ae8675deefd35b445a56ca4710876101d">terrains</a>, ptr&lt; EventHandler &gt; <a class="el" href="classproland_1_1MousePositionHandler.html#a6633038fdb3d15e775572afc50ec126b">next</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new MousePositionhandler.  <a href="#ae81648a8c6680719352c96de698fb843"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1MousePositionHandler.html#a61f44c6838bfb03042740eaf0f86e6b3">~MousePositionHandler</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deletes this <a class="el" href="classproland_1_1MousePositionHandler.html" title="An EventHandler that can determine the position of the mouse in world space.">MousePositionHandler</a>.  <a href="#a61f44c6838bfb03042740eaf0f86e6b3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ptr&lt; <a class="el" href="classproland_1_1TerrainQuad.html">TerrainQuad</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1MousePositionHandler.html#a196c94e0581a9b523d56c82d5fa2f122">findTile</a> (float x, float y, ptr&lt; <a class="el" href="classproland_1_1TerrainQuad.html">TerrainQuad</a> &gt; quad)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finds the <a class="el" href="classproland_1_1TerrainQuad.html" title="A quad in a terrain quadtree.">TerrainQuad</a> that contains the given coordinates.  <a href="#a196c94e0581a9b523d56c82d5fa2f122"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1MousePositionHandler.html#a33e4f83b0718d1030f96e05d3d744ea5">getWorldCoordinates</a> (int x, int y)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determines the terrain and the terrain tile that contains the given coordinates.  <a href="#a33e4f83b0718d1030f96e05d3d744ea5"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1MousePositionHandler.html#a2d789993b3b09852d89f2dfc019022a4">MousePositionHandler</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new <a class="el" href="classproland_1_1MousePositionHandler.html" title="An EventHandler that can determine the position of the mouse in world space.">MousePositionHandler</a>.  <a href="#a2d789993b3b09852d89f2dfc019022a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1MousePositionHandler.html#ad6653c4be30fa6acd4ad88737bf59be6">init</a> (map&lt; ptr&lt; SceneNode &gt;, ptr&lt; <a class="el" href="classproland_1_1TerrainNode.html">TerrainNode</a> &gt; &gt; <a class="el" href="classproland_1_1MousePositionHandler.html#ae8675deefd35b445a56ca4710876101d">terrains</a>, ptr&lt; EventHandler &gt; <a class="el" href="classproland_1_1MousePositionHandler.html#a6633038fdb3d15e775572afc50ec126b">next</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes this <a class="el" href="classproland_1_1MousePositionHandler.html" title="An EventHandler that can determine the position of the mouse in world space.">MousePositionHandler</a>.  <a href="#ad6653c4be30fa6acd4ad88737bf59be6"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">map&lt; ptr&lt; SceneNode &gt;, ptr<br class="typebreak"/>
&lt; <a class="el" href="classproland_1_1TerrainNode.html">TerrainNode</a> &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1MousePositionHandler.html#ae8675deefd35b445a56ca4710876101d">terrains</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The list of SceneNodes contained in the scene mapped to their TerrainNodes.  <a href="#ae8675deefd35b445a56ca4710876101d"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vec2i&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1MousePositionHandler.html#a3d3f5acb0d23e0ac1f10adca48b473ca">mousePosition</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Displayed mouse position.  <a href="#a3d3f5acb0d23e0ac1f10adca48b473ca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1MousePositionHandler.html#ae38a31b2914433e2caf5eaa0e833fe46">currentTerrain</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The terrain pointed by the cursor.  <a href="#ae38a31b2914433e2caf5eaa0e833fe46"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vec3d&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1MousePositionHandler.html#a6e4e97be88f3e91043c543068f040f09">terrainPosition</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Local position inside the terrain pointer by the cursor.  <a href="#a6e4e97be88f3e91043c543068f040f09"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vec3i&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1MousePositionHandler.html#a61b5bf85a81d9492fc31e945623ae408">tile</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Coordinates of the tile (level, tx, ty) pointed inside the terrain.  <a href="#a61b5bf85a81d9492fc31e945623ae408"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ptr&lt; EventHandler &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1MousePositionHandler.html#a6633038fdb3d15e775572afc50ec126b">next</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The EventHandler that must handle the events.  <a href="#a6633038fdb3d15e775572afc50ec126b"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>An EventHandler that can determine the position of the mouse in world space. </p>
<p>It can determine on which <a class="el" href="classproland_1_1TerrainNode.html" title="A view dependent, quadtree based terrain.">TerrainNode</a> the cursor is, and the position inside it. This EventHandler is only for debug purpose, since it requires costly operations. (DepthBuffer read...). It then uses the ShowInfoTask to display the mouse position.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Antoine Begault </dd></dl>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae81648a8c6680719352c96de698fb843"></a><!-- doxytag: member="proland::MousePositionHandler::MousePositionHandler" ref="ae81648a8c6680719352c96de698fb843" args="(map&lt; ptr&lt; SceneNode &gt;, ptr&lt; TerrainNode &gt; &gt; terrains, ptr&lt; EventHandler &gt; next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proland::MousePositionHandler::MousePositionHandler </td>
          <td>(</td>
          <td class="paramtype">map&lt; ptr&lt; SceneNode &gt;, ptr&lt; <a class="el" href="classproland_1_1TerrainNode.html">TerrainNode</a> &gt; &gt;&nbsp;</td>
          <td class="paramname"> <em>terrains</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; EventHandler &gt;&nbsp;</td>
          <td class="paramname"> <em>next</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new MousePositionhandler. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>terrains</em>&nbsp;</td><td>the list of SceneNodes contained in the scene mapped to their TerrainNodes. These SceneNodes are used to determine the transformation matrices, and the TerrainNodes are used to determine if the point is inside the terrain. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>next</em>&nbsp;</td><td>the EventHandler that must handle the events. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a61f44c6838bfb03042740eaf0f86e6b3"></a><!-- doxytag: member="proland::MousePositionHandler::~MousePositionHandler" ref="a61f44c6838bfb03042740eaf0f86e6b3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual proland::MousePositionHandler::~MousePositionHandler </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes this <a class="el" href="classproland_1_1MousePositionHandler.html" title="An EventHandler that can determine the position of the mouse in world space.">MousePositionHandler</a>. </p>

</div>
</div>
<a class="anchor" id="a2d789993b3b09852d89f2dfc019022a4"></a><!-- doxytag: member="proland::MousePositionHandler::MousePositionHandler" ref="a2d789993b3b09852d89f2dfc019022a4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proland::MousePositionHandler::MousePositionHandler </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new <a class="el" href="classproland_1_1MousePositionHandler.html" title="An EventHandler that can determine the position of the mouse in world space.">MousePositionHandler</a>. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a196c94e0581a9b523d56c82d5fa2f122"></a><!-- doxytag: member="proland::MousePositionHandler::findTile" ref="a196c94e0581a9b523d56c82d5fa2f122" args="(float x, float y, ptr&lt; TerrainQuad &gt; quad)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ptr&lt;<a class="el" href="classproland_1_1TerrainQuad.html">TerrainQuad</a>&gt; proland::MousePositionHandler::findTile </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; <a class="el" href="classproland_1_1TerrainQuad.html">TerrainQuad</a> &gt;&nbsp;</td>
          <td class="paramname"> <em>quad</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finds the <a class="el" href="classproland_1_1TerrainQuad.html" title="A quad in a terrain quadtree.">TerrainQuad</a> that contains the given coordinates. </p>

</div>
</div>
<a class="anchor" id="a33e4f83b0718d1030f96e05d3d744ea5"></a><!-- doxytag: member="proland::MousePositionHandler::getWorldCoordinates" ref="a33e4f83b0718d1030f96e05d3d744ea5" args="(int x, int y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void proland::MousePositionHandler::getWorldCoordinates </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determines the terrain and the terrain tile that contains the given coordinates. </p>
<p>It will set <a class="el" href="classproland_1_1MousePositionHandler.html#a3d3f5acb0d23e0ac1f10adca48b473ca" title="Displayed mouse position.">mousePosition</a>, <a class="el" href="classproland_1_1MousePositionHandler.html#ae38a31b2914433e2caf5eaa0e833fe46" title="The terrain pointed by the cursor.">currentTerrain</a>, <a class="el" href="classproland_1_1MousePositionHandler.html#a6e4e97be88f3e91043c543068f040f09" title="Local position inside the terrain pointer by the cursor.">terrainPosition</a>, and <a class="el" href="classproland_1_1MousePositionHandler.html#a61b5bf85a81d9492fc31e945623ae408" title="Coordinates of the tile (level, tx, ty) pointed inside the terrain.">tile</a>. </p>

</div>
</div>
<a class="anchor" id="ad6653c4be30fa6acd4ad88737bf59be6"></a><!-- doxytag: member="proland::MousePositionHandler::init" ref="ad6653c4be30fa6acd4ad88737bf59be6" args="(map&lt; ptr&lt; SceneNode &gt;, ptr&lt; TerrainNode &gt; &gt; terrains, ptr&lt; EventHandler &gt; next)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void proland::MousePositionHandler::init </td>
          <td>(</td>
          <td class="paramtype">map&lt; ptr&lt; SceneNode &gt;, ptr&lt; <a class="el" href="classproland_1_1TerrainNode.html">TerrainNode</a> &gt; &gt;&nbsp;</td>
          <td class="paramname"> <em>terrains</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; EventHandler &gt;&nbsp;</td>
          <td class="paramname"> <em>next</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes this <a class="el" href="classproland_1_1MousePositionHandler.html" title="An EventHandler that can determine the position of the mouse in world space.">MousePositionHandler</a>. </p>
<p>See <a class="el" href="classproland_1_1MousePositionHandler.html#ae81648a8c6680719352c96de698fb843" title="Creates a new MousePositionhandler.">MousePositionHandler</a>. </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ae38a31b2914433e2caf5eaa0e833fe46"></a><!-- doxytag: member="proland::MousePositionHandler::currentTerrain" ref="ae38a31b2914433e2caf5eaa0e833fe46" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classproland_1_1MousePositionHandler.html#ae38a31b2914433e2caf5eaa0e833fe46">proland::MousePositionHandler::currentTerrain</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The terrain pointed by the cursor. </p>
<p>If no terrain is under the cursor, it will be set to -1 and no terrain coordinates will be displayed, only mouse coordinates. </p>

</div>
</div>
<a class="anchor" id="a3d3f5acb0d23e0ac1f10adca48b473ca"></a><!-- doxytag: member="proland::MousePositionHandler::mousePosition" ref="a3d3f5acb0d23e0ac1f10adca48b473ca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vec2i <a class="el" href="classproland_1_1MousePositionHandler.html#a3d3f5acb0d23e0ac1f10adca48b473ca">proland::MousePositionHandler::mousePosition</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Displayed mouse position. </p>
<p>Retrieved when the mouse moves. </p>

</div>
</div>
<a class="anchor" id="a6633038fdb3d15e775572afc50ec126b"></a><!-- doxytag: member="proland::MousePositionHandler::next" ref="a6633038fdb3d15e775572afc50ec126b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ptr&lt;EventHandler&gt; <a class="el" href="classproland_1_1MousePositionHandler.html#a6633038fdb3d15e775572afc50ec126b">proland::MousePositionHandler::next</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The EventHandler that must handle the events. </p>

</div>
</div>
<a class="anchor" id="a6e4e97be88f3e91043c543068f040f09"></a><!-- doxytag: member="proland::MousePositionHandler::terrainPosition" ref="a6e4e97be88f3e91043c543068f040f09" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vec3d <a class="el" href="classproland_1_1MousePositionHandler.html#a6e4e97be88f3e91043c543068f040f09">proland::MousePositionHandler::terrainPosition</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Local position inside the terrain pointer by the cursor. </p>

</div>
</div>
<a class="anchor" id="ae8675deefd35b445a56ca4710876101d"></a><!-- doxytag: member="proland::MousePositionHandler::terrains" ref="ae8675deefd35b445a56ca4710876101d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">map&lt;ptr&lt;SceneNode&gt;, ptr&lt;<a class="el" href="classproland_1_1TerrainNode.html">TerrainNode</a>&gt; &gt; <a class="el" href="classproland_1_1MousePositionHandler.html#ae8675deefd35b445a56ca4710876101d">proland::MousePositionHandler::terrains</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The list of SceneNodes contained in the scene mapped to their TerrainNodes. </p>
<p>These SceneNodes are used to determine the transformation matrices, and the TerrainNodes are used to determine if the point is inside the terrain. </p>

</div>
</div>
<a class="anchor" id="a61b5bf85a81d9492fc31e945623ae408"></a><!-- doxytag: member="proland::MousePositionHandler::tile" ref="a61b5bf85a81d9492fc31e945623ae408" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vec3i <a class="el" href="classproland_1_1MousePositionHandler.html#a61b5bf85a81d9492fc31e945623ae408">proland::MousePositionHandler::tile</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Coordinates of the tile (level, tx, ty) pointed inside the terrain. </p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Sat May 12 09:41:39 2012 for proland by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
