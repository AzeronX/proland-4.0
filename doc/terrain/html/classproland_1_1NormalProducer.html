<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>proland: proland::NormalProducer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>proland</b>::<a class="el" href="classproland_1_1NormalProducer.html">NormalProducer</a>
  </div>
</div>
<div class="contents">
<h1>proland::NormalProducer Class Reference<br/>
<small>
[<a class="el" href="group__dem.html">dem</a>]</small>
</h1><!-- doxytag: class="proland::NormalProducer" -->
<p>A TileProducer to generate terrain normals from terrain elevations on GPU.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;NormalProducer.h&gt;</code></p>

<p><a href="classproland_1_1NormalProducer-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1NormalProducer.html#a4cf2df1a3aa88938fac85137d9dec7bc">NormalProducer</a> (ptr&lt; TileCache &gt; cache, ptr&lt; TileProducer &gt; <a class="el" href="classproland_1_1NormalProducer.html#a5469ff2aaf1157e8f798e58762e6e461">elevationTiles</a>, ptr&lt; Texture2D &gt; <a class="el" href="classproland_1_1NormalProducer.html#a8f27bb3f0a35b4c531af1efa325ebdd5">normalTexture</a>, ptr&lt; Program &gt; <a class="el" href="classproland_1_1NormalProducer.html#acba256619bcc8d0c9d030a2e952f254c">normals</a>, int <a class="el" href="classproland_1_1NormalProducer.html#a3f9cd81d56bef4beacacf488d940559e">gridMeshSize</a>, bool <a class="el" href="classproland_1_1NormalProducer.html#a7d7d11582540775ceddcb05c9acc34ba">deform</a>=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new <a class="el" href="classproland_1_1NormalProducer.html" title="A TileProducer to generate terrain normals from terrain elevations on GPU.">NormalProducer</a>.  <a href="#a4cf2df1a3aa88938fac85137d9dec7bc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1NormalProducer.html#a946502d09c1ee1cf28731992a86e1811">~NormalProducer</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deletes this <a class="el" href="classproland_1_1NormalProducer.html" title="A TileProducer to generate terrain normals from terrain elevations on GPU.">NormalProducer</a>.  <a href="#a946502d09c1ee1cf28731992a86e1811"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1NormalProducer.html#ab5f048677a5ef1d749bf3982c7ad74be">NormalProducer</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates an uninitialized <a class="el" href="classproland_1_1NormalProducer.html" title="A TileProducer to generate terrain normals from terrain elevations on GPU.">NormalProducer</a>.  <a href="#ab5f048677a5ef1d749bf3982c7ad74be"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1NormalProducer.html#adb7854e0f1ce9113963f771fe4703084">init</a> (ptr&lt; TileCache &gt; cache, ptr&lt; TileProducer &gt; <a class="el" href="classproland_1_1NormalProducer.html#a5469ff2aaf1157e8f798e58762e6e461">elevationTiles</a>, ptr&lt; Texture2D &gt; <a class="el" href="classproland_1_1NormalProducer.html#a8f27bb3f0a35b4c531af1efa325ebdd5">normalTexture</a>, ptr&lt; Program &gt; <a class="el" href="classproland_1_1NormalProducer.html#acba256619bcc8d0c9d030a2e952f254c">normals</a>, int <a class="el" href="classproland_1_1NormalProducer.html#a3f9cd81d56bef4beacacf488d940559e">gridMeshSize</a>, bool <a class="el" href="classproland_1_1NormalProducer.html#a7d7d11582540775ceddcb05c9acc34ba">deform</a>=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes this <a class="el" href="classproland_1_1NormalProducer.html" title="A TileProducer to generate terrain normals from terrain elevations on GPU.">NormalProducer</a>.  <a href="#adb7854e0f1ce9113963f771fe4703084"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ptr&lt; Program &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1NormalProducer.html#acba256619bcc8d0c9d030a2e952f254c">normals</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The Program to compute normals from elevations on GPU.  <a href="#acba256619bcc8d0c9d030a2e952f254c"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ptr&lt; TileProducer &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1NormalProducer.html#a5469ff2aaf1157e8f798e58762e6e461">elevationTiles</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The producer producing the elevation tiles on GPU.  <a href="#a5469ff2aaf1157e8f798e58762e6e461"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ptr&lt; Texture2D &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1NormalProducer.html#a8f27bb3f0a35b4c531af1efa325ebdd5">normalTexture</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A texture used to produce the tiles.  <a href="#a8f27bb3f0a35b4c531af1efa325ebdd5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1NormalProducer.html#a7d7d11582540775ceddcb05c9acc34ba">deform</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">true if the produced elevations will be mapped on a spherical terrain.  <a href="#a7d7d11582540775ceddcb05c9acc34ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1NormalProducer.html#a3f9cd81d56bef4beacacf488d940559e">gridMeshSize</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The size of the grid that will be used to render each tile.  <a href="#a3f9cd81d56bef4beacacf488d940559e"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A TileProducer to generate terrain normals from terrain elevations on GPU. </p>
<dl class="author"><dt><b>Authors:</b></dt><dd>Eric Bruneton, Antoine Begault </dd></dl>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4cf2df1a3aa88938fac85137d9dec7bc"></a><!-- doxytag: member="proland::NormalProducer::NormalProducer" ref="a4cf2df1a3aa88938fac85137d9dec7bc" args="(ptr&lt; TileCache &gt; cache, ptr&lt; TileProducer &gt; elevationTiles, ptr&lt; Texture2D &gt; normalTexture, ptr&lt; Program &gt; normals, int gridMeshSize, bool deform=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proland::NormalProducer::NormalProducer </td>
          <td>(</td>
          <td class="paramtype">ptr&lt; TileCache &gt;&nbsp;</td>
          <td class="paramname"> <em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; TileProducer &gt;&nbsp;</td>
          <td class="paramname"> <em>elevationTiles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; Texture2D &gt;&nbsp;</td>
          <td class="paramname"> <em>normalTexture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; Program &gt;&nbsp;</td>
          <td class="paramname"> <em>normals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>gridMeshSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>deform</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new <a class="el" href="classproland_1_1NormalProducer.html" title="A TileProducer to generate terrain normals from terrain elevations on GPU.">NormalProducer</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cache</em>&nbsp;</td><td>the cache to store the produced tiles. The underlying storage must be a GPUTileStorage with textures of two or four components per pixel. If two components are used only one normal is stored per pixel (n.x and n.y are stored, n.z is implicit). If four components are used a coarse normal is also stored, to provide smooth interpolation of normals between quadtree levels. If floating point textures are used normals components vary between -1 and 1. If non floating point textures are used, this range is scaled to 0-1 to fit in the texture format. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>elevationTiles</em>&nbsp;</td><td>the producer producing the elevation tiles on GPU. The underlying storage must be a GPUTileStorage with floating point textures with at least 3 components per pixel (4 if 'deform' is true). The elevation tile size, without borders, must be equal to the normal tile size, minus 1. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>normalTexture</em>&nbsp;</td><td>a texture used to produce the tiles. Its size must be equal to the normal tile size. Its format must be the same as the format used for the tile storage of this producer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>normals</em>&nbsp;</td><td>the Program to compute normals from elevations on GPU. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gridMeshSize</em>&nbsp;</td><td>the size of the grid that will be used to render each tile. Must be the tile size (minus 1) divided by a power of two. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>deform</em>&nbsp;</td><td>true if the produced normals will be mapped on a spherical terrain. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a946502d09c1ee1cf28731992a86e1811"></a><!-- doxytag: member="proland::NormalProducer::~NormalProducer" ref="a946502d09c1ee1cf28731992a86e1811" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual proland::NormalProducer::~NormalProducer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes this <a class="el" href="classproland_1_1NormalProducer.html" title="A TileProducer to generate terrain normals from terrain elevations on GPU.">NormalProducer</a>. </p>

</div>
</div>
<a class="anchor" id="ab5f048677a5ef1d749bf3982c7ad74be"></a><!-- doxytag: member="proland::NormalProducer::NormalProducer" ref="ab5f048677a5ef1d749bf3982c7ad74be" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proland::NormalProducer::NormalProducer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates an uninitialized <a class="el" href="classproland_1_1NormalProducer.html" title="A TileProducer to generate terrain normals from terrain elevations on GPU.">NormalProducer</a>. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="adb7854e0f1ce9113963f771fe4703084"></a><!-- doxytag: member="proland::NormalProducer::init" ref="adb7854e0f1ce9113963f771fe4703084" args="(ptr&lt; TileCache &gt; cache, ptr&lt; TileProducer &gt; elevationTiles, ptr&lt; Texture2D &gt; normalTexture, ptr&lt; Program &gt; normals, int gridMeshSize, bool deform=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void proland::NormalProducer::init </td>
          <td>(</td>
          <td class="paramtype">ptr&lt; TileCache &gt;&nbsp;</td>
          <td class="paramname"> <em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; TileProducer &gt;&nbsp;</td>
          <td class="paramname"> <em>elevationTiles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; Texture2D &gt;&nbsp;</td>
          <td class="paramname"> <em>normalTexture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; Program &gt;&nbsp;</td>
          <td class="paramname"> <em>normals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>gridMeshSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>deform</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes this <a class="el" href="classproland_1_1NormalProducer.html" title="A TileProducer to generate terrain normals from terrain elevations on GPU.">NormalProducer</a>. </p>
<p>See <a class="el" href="classproland_1_1NormalProducer.html#a4cf2df1a3aa88938fac85137d9dec7bc" title="Creates a new NormalProducer.">NormalProducer</a>. </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a7d7d11582540775ceddcb05c9acc34ba"></a><!-- doxytag: member="proland::NormalProducer::deform" ref="a7d7d11582540775ceddcb05c9acc34ba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classproland_1_1NormalProducer.html#a7d7d11582540775ceddcb05c9acc34ba">proland::NormalProducer::deform</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>true if the produced elevations will be mapped on a spherical terrain. </p>

</div>
</div>
<a class="anchor" id="a5469ff2aaf1157e8f798e58762e6e461"></a><!-- doxytag: member="proland::NormalProducer::elevationTiles" ref="a5469ff2aaf1157e8f798e58762e6e461" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ptr&lt;TileProducer&gt; <a class="el" href="classproland_1_1NormalProducer.html#a5469ff2aaf1157e8f798e58762e6e461">proland::NormalProducer::elevationTiles</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The producer producing the elevation tiles on GPU. </p>
<p>The underlying storage must be a GPUTileStorage with floating point textures with at least 3 components per pixel (4 if 'deform' is true). The elevation tile size, without borders, must be equal to the normal tile size, minus 1. </p>

</div>
</div>
<a class="anchor" id="a3f9cd81d56bef4beacacf488d940559e"></a><!-- doxytag: member="proland::NormalProducer::gridMeshSize" ref="a3f9cd81d56bef4beacacf488d940559e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classproland_1_1NormalProducer.html#a3f9cd81d56bef4beacacf488d940559e">proland::NormalProducer::gridMeshSize</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The size of the grid that will be used to render each tile. </p>
<p>Must be the tile size (without borders) divided by a power of two. </p>

</div>
</div>
<a class="anchor" id="acba256619bcc8d0c9d030a2e952f254c"></a><!-- doxytag: member="proland::NormalProducer::normals" ref="acba256619bcc8d0c9d030a2e952f254c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ptr&lt;Program&gt; <a class="el" href="classproland_1_1NormalProducer.html#acba256619bcc8d0c9d030a2e952f254c">proland::NormalProducer::normals</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The Program to compute normals from elevations on GPU. </p>

</div>
</div>
<a class="anchor" id="a8f27bb3f0a35b4c531af1efa325ebdd5"></a><!-- doxytag: member="proland::NormalProducer::normalTexture" ref="a8f27bb3f0a35b4c531af1efa325ebdd5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ptr&lt;Texture2D&gt; <a class="el" href="classproland_1_1NormalProducer.html#a8f27bb3f0a35b4c531af1efa325ebdd5">proland::NormalProducer::normalTexture</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A texture used to produce the tiles. </p>
<p>Its size must be equal to the normal tile size. Its format must be the same as the format used for the tile storage of this producer. </p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Sat May 12 09:42:13 2012 for proland by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
