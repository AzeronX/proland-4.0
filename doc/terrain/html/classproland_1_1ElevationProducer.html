<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>proland: proland::ElevationProducer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>proland</b>::<a class="el" href="classproland_1_1ElevationProducer.html">ElevationProducer</a>
  </div>
</div>
<div class="contents">
<h1>proland::ElevationProducer Class Reference<br/>
<small>
[<a class="el" href="group__dem.html">dem</a>]</small>
</h1><!-- doxytag: class="proland::ElevationProducer" -->
<p>A TileProducer to create elevation tiles on GPU from CPU residual tiles.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;ElevationProducer.h&gt;</code></p>

<p><a href="classproland_1_1ElevationProducer-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1ElevationProducer.html#ad38cac0a5e2ccab1e917535dd2689034">ElevationProducer</a> (ptr&lt; TileCache &gt; cache, ptr&lt; TileProducer &gt; <a class="el" href="classproland_1_1ElevationProducer.html#a5f64cd3fe3236d69ecbd4c8dfc463a33">residualTiles</a>, ptr&lt; Texture2D &gt; <a class="el" href="classproland_1_1ElevationProducer.html#a2f48a934e229fe62a483bfa1c07b9634">demTexture</a>, ptr&lt; Texture2D &gt; <a class="el" href="classproland_1_1ElevationProducer.html#a96284d27b50b55fc40c81f553eaa6e4d">layerTexture</a>, ptr&lt; Texture2D &gt; <a class="el" href="classproland_1_1ElevationProducer.html#a66c3ec06be9fbfc2390f444c3a5ef320">residualTexture</a>, ptr&lt; Program &gt; <a class="el" href="classproland_1_1ElevationProducer.html#afe577e6180aacd64e9eb72f326ea1e52">upsample</a>, ptr&lt; Program &gt; <a class="el" href="classproland_1_1ElevationProducer.html#a996b5bb483d755725f4f985c9963c95f">blend</a>, int <a class="el" href="classproland_1_1ElevationProducer.html#a617e771bdb545b0463743533a0d1e833">gridMeshSize</a>, vector&lt; float &gt; &amp;<a class="el" href="classproland_1_1ElevationProducer.html#a5cadce8ea1dafe568617160fb5d05e82">noiseAmp</a>, bool <a class="el" href="classproland_1_1ElevationProducer.html#a4eb1e5a94c8f804e28404a503e363ec4">flipDiagonals</a>=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new <a class="el" href="classproland_1_1ElevationProducer.html" title="A TileProducer to create elevation tiles on GPU from CPU residual tiles.">ElevationProducer</a>.  <a href="#ad38cac0a5e2ccab1e917535dd2689034"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1ElevationProducer.html#a76d9ba54e0ff78b1f1a27ab6d71b6cb1">~ElevationProducer</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deletes this <a class="el" href="classproland_1_1ElevationProducer.html" title="A TileProducer to create elevation tiles on GPU from CPU residual tiles.">ElevationProducer</a>.  <a href="#a76d9ba54e0ff78b1f1a27ab6d71b6cb1"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1ElevationProducer.html#a412d5548878036b9539b45cc04dd1dc5">ElevationProducer</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates an uninitialized <a class="el" href="classproland_1_1ElevationProducer.html" title="A TileProducer to create elevation tiles on GPU from CPU residual tiles.">ElevationProducer</a>.  <a href="#a412d5548878036b9539b45cc04dd1dc5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1ElevationProducer.html#a49e07adf508fc9e4aa6757c938e18e09">init</a> (ptr&lt; TileCache &gt; cache, ptr&lt; TileProducer &gt; <a class="el" href="classproland_1_1ElevationProducer.html#a5f64cd3fe3236d69ecbd4c8dfc463a33">residualTiles</a>, ptr&lt; Texture2D &gt; <a class="el" href="classproland_1_1ElevationProducer.html#a2f48a934e229fe62a483bfa1c07b9634">demTexture</a>, ptr&lt; Texture2D &gt; <a class="el" href="classproland_1_1ElevationProducer.html#a96284d27b50b55fc40c81f553eaa6e4d">layerTexture</a>, ptr&lt; Texture2D &gt; <a class="el" href="classproland_1_1ElevationProducer.html#a66c3ec06be9fbfc2390f444c3a5ef320">residualTexture</a>, ptr&lt; Program &gt; <a class="el" href="classproland_1_1ElevationProducer.html#afe577e6180aacd64e9eb72f326ea1e52">upsample</a>, ptr&lt; Program &gt; <a class="el" href="classproland_1_1ElevationProducer.html#a996b5bb483d755725f4f985c9963c95f">blend</a>, int <a class="el" href="classproland_1_1ElevationProducer.html#a617e771bdb545b0463743533a0d1e833">gridMeshSize</a>, vector&lt; float &gt; &amp;<a class="el" href="classproland_1_1ElevationProducer.html#a5cadce8ea1dafe568617160fb5d05e82">noiseAmp</a>, bool <a class="el" href="classproland_1_1ElevationProducer.html#a4eb1e5a94c8f804e28404a503e363ec4">flipDiagonals</a>=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes this <a class="el" href="classproland_1_1ElevationProducer.html" title="A TileProducer to create elevation tiles on GPU from CPU residual tiles.">ElevationProducer</a>.  <a href="#a49e07adf508fc9e4aa6757c938e18e09"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1ElevationProducer.html#afd0ba401b3911f6c1b0c637f14088e8d">init</a> (ptr&lt; ResourceManager &gt; manager, Resource *r, const string &amp;name, ptr&lt; ResourceDescriptor &gt; desc, const TiXmlElement *e=NULL)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes this <a class="el" href="classproland_1_1ElevationProducer.html" title="A TileProducer to create elevation tiles on GPU from CPU residual tiles.">ElevationProducer</a> from a Resource.  <a href="#afd0ba401b3911f6c1b0c637f14088e8d"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ptr&lt; Program &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1ElevationProducer.html#afe577e6180aacd64e9eb72f326ea1e52">upsample</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The Program to perform the upsampling and add procedure on GPU.  <a href="#afe577e6180aacd64e9eb72f326ea1e52"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ptr&lt; Program &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1ElevationProducer.html#a996b5bb483d755725f4f985c9963c95f">blend</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The Program to blend the layers of this producer with the raw terrain elevations.  <a href="#a996b5bb483d755725f4f985c9963c95f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ptr&lt; TileProducer &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1ElevationProducer.html#a5f64cd3fe3236d69ecbd4c8dfc463a33">residualTiles</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The producer producing the residual tiles.  <a href="#a5f64cd3fe3236d69ecbd4c8dfc463a33"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ptr&lt; Texture2D &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1ElevationProducer.html#a2f48a934e229fe62a483bfa1c07b9634">demTexture</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A texture used to produce the tiles.  <a href="#a2f48a934e229fe62a483bfa1c07b9634"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ptr&lt; Texture2D &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1ElevationProducer.html#a66c3ec06be9fbfc2390f444c3a5ef320">residualTexture</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A texture used to produce the tiles.  <a href="#a66c3ec06be9fbfc2390f444c3a5ef320"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ptr&lt; Texture2D &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1ElevationProducer.html#a96284d27b50b55fc40c81f553eaa6e4d">layerTexture</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A texture used to combine the layers of this producer with the raw terrain (maybe NULL if there are no layers; otherwise its size must be equal to the elevation tile size, including borders.  <a href="#a96284d27b50b55fc40c81f553eaa6e4d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1ElevationProducer.html#af6092409ad51c942ba15115bae15b85d">face</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cube face ID for producers targeting spherical terrains.  <a href="#af6092409ad51c942ba15115bae15b85d"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vector&lt; float &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1ElevationProducer.html#a5cadce8ea1dafe568617160fb5d05e82">noiseAmp</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The amplitude of the noise to be added for each level (one amplitude per level).  <a href="#a5cadce8ea1dafe568617160fb5d05e82"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1ElevationProducer.html#a40ff8a2059965c4cf5ea2978d216baa5">residualTile</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A buffer to convert a residual tile produced by <a class="el" href="classproland_1_1ElevationProducer.html#a5f64cd3fe3236d69ecbd4c8dfc463a33" title="The producer producing the residual tiles.">residualTiles</a> to the appropriate size.  <a href="#a40ff8a2059965c4cf5ea2978d216baa5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1ElevationProducer.html#a617e771bdb545b0463743533a0d1e833">gridMeshSize</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The size of the grid that will be used to render each tile.  <a href="#a617e771bdb545b0463743533a0d1e833"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproland_1_1ElevationProducer.html#a4eb1e5a94c8f804e28404a503e363ec4">flipDiagonals</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">true if the grid used to render each tile will use diagonal flipping to reduce geometric aliasing.  <a href="#a4eb1e5a94c8f804e28404a503e363ec4"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A TileProducer to create elevation tiles on GPU from CPU residual tiles. </p>
<p>This producer is intended to be used with a <a class="el" href="classproland_1_1ResidualProducer.html" title="A TileProducer to load elevation residuals from disk to CPU memory.">ResidualProducer</a>, but any other producer creating floating point CPU tiles can be used instead. This producer can create additional details with noise whose amplitude and frequency and be specified for each level (and the upsampling shader can further modify this noise to make it vary with the slope, curvature, altitude, etc). In fact the residual producer is optional. When no residuals are specified, a fully random fractal terrain is created from noise amplitudes. See <a class="el" href="index.html#sec-elevation">Elevation producer</a>.</p>
<dl class="author"><dt><b>Authors:</b></dt><dd>Eric Bruneton, Antoine Begault </dd></dl>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad38cac0a5e2ccab1e917535dd2689034"></a><!-- doxytag: member="proland::ElevationProducer::ElevationProducer" ref="ad38cac0a5e2ccab1e917535dd2689034" args="(ptr&lt; TileCache &gt; cache, ptr&lt; TileProducer &gt; residualTiles, ptr&lt; Texture2D &gt; demTexture, ptr&lt; Texture2D &gt; layerTexture, ptr&lt; Texture2D &gt; residualTexture, ptr&lt; Program &gt; upsample, ptr&lt; Program &gt; blend, int gridMeshSize, vector&lt; float &gt; &amp;noiseAmp, bool flipDiagonals=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proland::ElevationProducer::ElevationProducer </td>
          <td>(</td>
          <td class="paramtype">ptr&lt; TileCache &gt;&nbsp;</td>
          <td class="paramname"> <em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; TileProducer &gt;&nbsp;</td>
          <td class="paramname"> <em>residualTiles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; Texture2D &gt;&nbsp;</td>
          <td class="paramname"> <em>demTexture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; Texture2D &gt;&nbsp;</td>
          <td class="paramname"> <em>layerTexture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; Texture2D &gt;&nbsp;</td>
          <td class="paramname"> <em>residualTexture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; Program &gt;&nbsp;</td>
          <td class="paramname"> <em>upsample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; Program &gt;&nbsp;</td>
          <td class="paramname"> <em>blend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>gridMeshSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; float &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>noiseAmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>flipDiagonals</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new <a class="el" href="classproland_1_1ElevationProducer.html" title="A TileProducer to create elevation tiles on GPU from CPU residual tiles.">ElevationProducer</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cache</em>&nbsp;</td><td>the cache to store the produced tiles. The underlying storage must be a GPUTileStorage with floating point textures of at least two components per pixel. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>residualTiles</em>&nbsp;</td><td>the producer producing the residual tiles. This producer should produce its tiles in a CPUTileStorage of float type. Maybe NULL to create a fully random fractal terrain. The size of the residual tiles (without borders) must be a multiple of the size of the elevation tiles (without borders). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>demTexture</em>&nbsp;</td><td>a texture used to produce the tiles. Its size must be equal to the elevation tile size (including borders). Its format must be RGBA32F. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>layerTexture</em>&nbsp;</td><td>a texture used to combine the layers of this producer with the raw terrain (maybe NULL if there are no layers; otherwise its size must be equal to the elevation tile size, including borders. Its format must be RGBA32F). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>residualTexture</em>&nbsp;</td><td>a texture used to produce the tiles. Its size must be equal to the elevation tile size (including borders). Its format must be I32F. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>upsample</em>&nbsp;</td><td>the Program to perform the upsampling and add procedure on GPU. See <a class="el" href="index.html#sec-elevation">Elevation producer</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>blend</em>&nbsp;</td><td>the Program to blend the layers of this producer with the raw terrain elevations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gridMeshSize</em>&nbsp;</td><td>the size of the grid that will be used to render each tile. Must be the tile size (without borders) divided by a power of two. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>noiseAmp</em>&nbsp;</td><td>the amplitude of the noise to be added for each level (one amplitude per level). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flipDiagonals</em>&nbsp;</td><td>true if the grid used to render each tile will use diagonal flipping to reduce geometric aliasing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a76d9ba54e0ff78b1f1a27ab6d71b6cb1"></a><!-- doxytag: member="proland::ElevationProducer::~ElevationProducer" ref="a76d9ba54e0ff78b1f1a27ab6d71b6cb1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual proland::ElevationProducer::~ElevationProducer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes this <a class="el" href="classproland_1_1ElevationProducer.html" title="A TileProducer to create elevation tiles on GPU from CPU residual tiles.">ElevationProducer</a>. </p>

</div>
</div>
<a class="anchor" id="a412d5548878036b9539b45cc04dd1dc5"></a><!-- doxytag: member="proland::ElevationProducer::ElevationProducer" ref="a412d5548878036b9539b45cc04dd1dc5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proland::ElevationProducer::ElevationProducer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates an uninitialized <a class="el" href="classproland_1_1ElevationProducer.html" title="A TileProducer to create elevation tiles on GPU from CPU residual tiles.">ElevationProducer</a>. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="afd0ba401b3911f6c1b0c637f14088e8d"></a><!-- doxytag: member="proland::ElevationProducer::init" ref="afd0ba401b3911f6c1b0c637f14088e8d" args="(ptr&lt; ResourceManager &gt; manager, Resource *r, const string &amp;name, ptr&lt; ResourceDescriptor &gt; desc, const TiXmlElement *e=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void proland::ElevationProducer::init </td>
          <td>(</td>
          <td class="paramtype">ptr&lt; ResourceManager &gt;&nbsp;</td>
          <td class="paramname"> <em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Resource *&nbsp;</td>
          <td class="paramname"> <em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; ResourceDescriptor &gt;&nbsp;</td>
          <td class="paramname"> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TiXmlElement *&nbsp;</td>
          <td class="paramname"> <em>e</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes this <a class="el" href="classproland_1_1ElevationProducer.html" title="A TileProducer to create elevation tiles on GPU from CPU residual tiles.">ElevationProducer</a> from a Resource. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>manager</em>&nbsp;</td><td>the manager that will manage the created resource. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>r</em>&nbsp;</td><td>the resource. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>the resource name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>desc</em>&nbsp;</td><td>the resource descriptor. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>e</em>&nbsp;</td><td>an optional XML element providing contextual information (such as the XML element in which the resource descriptor was found). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a49e07adf508fc9e4aa6757c938e18e09"></a><!-- doxytag: member="proland::ElevationProducer::init" ref="a49e07adf508fc9e4aa6757c938e18e09" args="(ptr&lt; TileCache &gt; cache, ptr&lt; TileProducer &gt; residualTiles, ptr&lt; Texture2D &gt; demTexture, ptr&lt; Texture2D &gt; layerTexture, ptr&lt; Texture2D &gt; residualTexture, ptr&lt; Program &gt; upsample, ptr&lt; Program &gt; blend, int gridMeshSize, vector&lt; float &gt; &amp;noiseAmp, bool flipDiagonals=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void proland::ElevationProducer::init </td>
          <td>(</td>
          <td class="paramtype">ptr&lt; TileCache &gt;&nbsp;</td>
          <td class="paramname"> <em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; TileProducer &gt;&nbsp;</td>
          <td class="paramname"> <em>residualTiles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; Texture2D &gt;&nbsp;</td>
          <td class="paramname"> <em>demTexture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; Texture2D &gt;&nbsp;</td>
          <td class="paramname"> <em>layerTexture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; Texture2D &gt;&nbsp;</td>
          <td class="paramname"> <em>residualTexture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; Program &gt;&nbsp;</td>
          <td class="paramname"> <em>upsample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ptr&lt; Program &gt;&nbsp;</td>
          <td class="paramname"> <em>blend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>gridMeshSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; float &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>noiseAmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>flipDiagonals</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes this <a class="el" href="classproland_1_1ElevationProducer.html" title="A TileProducer to create elevation tiles on GPU from CPU residual tiles.">ElevationProducer</a>. </p>
<p>See <a class="el" href="classproland_1_1ElevationProducer.html#ad38cac0a5e2ccab1e917535dd2689034" title="Creates a new ElevationProducer.">ElevationProducer</a>. </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a996b5bb483d755725f4f985c9963c95f"></a><!-- doxytag: member="proland::ElevationProducer::blend" ref="a996b5bb483d755725f4f985c9963c95f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ptr&lt;Program&gt; <a class="el" href="classproland_1_1ElevationProducer.html#a996b5bb483d755725f4f985c9963c95f">proland::ElevationProducer::blend</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The Program to blend the layers of this producer with the raw terrain elevations. </p>

</div>
</div>
<a class="anchor" id="a2f48a934e229fe62a483bfa1c07b9634"></a><!-- doxytag: member="proland::ElevationProducer::demTexture" ref="a2f48a934e229fe62a483bfa1c07b9634" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ptr&lt;Texture2D&gt; <a class="el" href="classproland_1_1ElevationProducer.html#a2f48a934e229fe62a483bfa1c07b9634">proland::ElevationProducer::demTexture</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A texture used to produce the tiles. </p>
<p>Its size must be equal to the elevation tile size (including borders). Its format must be RGBA32F. </p>

</div>
</div>
<a class="anchor" id="af6092409ad51c942ba15115bae15b85d"></a><!-- doxytag: member="proland::ElevationProducer::face" ref="af6092409ad51c942ba15115bae15b85d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classproland_1_1ElevationProducer.html#af6092409ad51c942ba15115bae15b85d">proland::ElevationProducer::face</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cube face ID for producers targeting spherical terrains. </p>

</div>
</div>
<a class="anchor" id="a4eb1e5a94c8f804e28404a503e363ec4"></a><!-- doxytag: member="proland::ElevationProducer::flipDiagonals" ref="a4eb1e5a94c8f804e28404a503e363ec4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classproland_1_1ElevationProducer.html#a4eb1e5a94c8f804e28404a503e363ec4">proland::ElevationProducer::flipDiagonals</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>true if the grid used to render each tile will use diagonal flipping to reduce geometric aliasing. </p>

</div>
</div>
<a class="anchor" id="a617e771bdb545b0463743533a0d1e833"></a><!-- doxytag: member="proland::ElevationProducer::gridMeshSize" ref="a617e771bdb545b0463743533a0d1e833" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classproland_1_1ElevationProducer.html#a617e771bdb545b0463743533a0d1e833">proland::ElevationProducer::gridMeshSize</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The size of the grid that will be used to render each tile. </p>
<p>Must be the tile size (without borders) divided by a power of two. </p>

</div>
</div>
<a class="anchor" id="a96284d27b50b55fc40c81f553eaa6e4d"></a><!-- doxytag: member="proland::ElevationProducer::layerTexture" ref="a96284d27b50b55fc40c81f553eaa6e4d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ptr&lt;Texture2D&gt; <a class="el" href="classproland_1_1ElevationProducer.html#a96284d27b50b55fc40c81f553eaa6e4d">proland::ElevationProducer::layerTexture</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A texture used to combine the layers of this producer with the raw terrain (maybe NULL if there are no layers; otherwise its size must be equal to the elevation tile size, including borders. </p>
<p>Its format must be RGBA32F). </p>

</div>
</div>
<a class="anchor" id="a5cadce8ea1dafe568617160fb5d05e82"></a><!-- doxytag: member="proland::ElevationProducer::noiseAmp" ref="a5cadce8ea1dafe568617160fb5d05e82" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;float&gt; <a class="el" href="classproland_1_1ElevationProducer.html#a5cadce8ea1dafe568617160fb5d05e82">proland::ElevationProducer::noiseAmp</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The amplitude of the noise to be added for each level (one amplitude per level). </p>

</div>
</div>
<a class="anchor" id="a66c3ec06be9fbfc2390f444c3a5ef320"></a><!-- doxytag: member="proland::ElevationProducer::residualTexture" ref="a66c3ec06be9fbfc2390f444c3a5ef320" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ptr&lt;Texture2D&gt; <a class="el" href="classproland_1_1ElevationProducer.html#a66c3ec06be9fbfc2390f444c3a5ef320">proland::ElevationProducer::residualTexture</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A texture used to produce the tiles. </p>
<p>Its size must be equal to the elevation tile size (including borders). Its format must be I32F. </p>

</div>
</div>
<a class="anchor" id="a40ff8a2059965c4cf5ea2978d216baa5"></a><!-- doxytag: member="proland::ElevationProducer::residualTile" ref="a40ff8a2059965c4cf5ea2978d216baa5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float* <a class="el" href="classproland_1_1ElevationProducer.html#a40ff8a2059965c4cf5ea2978d216baa5">proland::ElevationProducer::residualTile</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A buffer to convert a residual tile produced by <a class="el" href="classproland_1_1ElevationProducer.html#a5f64cd3fe3236d69ecbd4c8dfc463a33" title="The producer producing the residual tiles.">residualTiles</a> to the appropriate size. </p>

</div>
</div>
<a class="anchor" id="a5f64cd3fe3236d69ecbd4c8dfc463a33"></a><!-- doxytag: member="proland::ElevationProducer::residualTiles" ref="a5f64cd3fe3236d69ecbd4c8dfc463a33" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ptr&lt;TileProducer&gt; <a class="el" href="classproland_1_1ElevationProducer.html#a5f64cd3fe3236d69ecbd4c8dfc463a33">proland::ElevationProducer::residualTiles</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The producer producing the residual tiles. </p>
<p>This producer should produce its tiles in a CPUTileStorage of float type. Maybe NULL to create a fully random fractal terrain. The size of the residual tiles (without borders) must be a multiple of the size of the elevation tiles (without borders). </p>

</div>
</div>
<a class="anchor" id="afe577e6180aacd64e9eb72f326ea1e52"></a><!-- doxytag: member="proland::ElevationProducer::upsample" ref="afe577e6180aacd64e9eb72f326ea1e52" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ptr&lt;Program&gt; <a class="el" href="classproland_1_1ElevationProducer.html#afe577e6180aacd64e9eb72f326ea1e52">proland::ElevationProducer::upsample</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The Program to perform the upsampling and add procedure on GPU. </p>
<p>See <a class="el" href="index.html#sec-elevation">Elevation producer</a>. </p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Sat May 12 09:42:13 2012 for proland by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
